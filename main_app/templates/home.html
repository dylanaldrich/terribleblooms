{% extends 'base.html' %}
{% load static %}

{% block content %}
    <section class="page-header">
        <img src="{% static 'assets/artwork/sweetnectar_cassietaggart.jpg' %}" alt="sweet nectar by cassie taggart" />
    </section>
    <div class="outer-box">
        <div class="inner-box">
            <div class="headline">
                <h1>A Theatre Podcast</h1>
                <h4>Based on the works of Sharon Yablon</h2>
            </div>
            <i class="material-icons dp48" id="expand_more">expand_more</i>
        </div>
    </div>
    
    <section id="episodes-box">
        {% if latest_Episode %}
            <div id="latest-episode" class="row">
                <div class="col s6">
                    <h3>Latest Episode</h3>
                    <a href="{% url 'episode_detail' latest_Episode.id %}" class="hoverable">
                        <img src="media/{{ latest_Episode.image }}" alt="episode image" id="latest-episode-image" class="col s12" />
                    </a>
                </div>
                <div id="latest-episode-info" class="col s6">
                    <h4>
                        <a href="{% url 'episode_detail' latest_Episode.id %}">{{ latest_Episode.name }}</a>
                    </h4>
                    {% comment %} TODO add in a "read more" link if the description gets too long {% endcomment %}
                    <p id="latest-episode-description">{{ latest_Episode.description }}</p>
                    <section class="audio">
                        <audio controls>
                            <source src="media/{{ latest_Episode.audioFile }}" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                        <div class="logos">
                            <section id="logo-cover">
                                <i class="fas fa-hand-point-right"></i>
                                <span>Podcast Apps</span>
                            </section>
                            <a href="#" id="apple-podcast-logo">
                                <i class="fas fa-podcast"></i>
                            </a>
                            <a href="#" id="google-podcast-logo">
                                <i class="fab fa-google-play"></i>
                            </a>
                            <a href="#" id="spotify-podcast-logo">
                                <i class="fab fa-spotify"></i>
                            </a>
                        </div>
                    </section>
                </div>
            </div>
            {% if episodes|length >= 1 %}
                <h3 class="episode-heading">Past Episodes</h3>
                <div id="past-episodes-box">
                    {% for episode in episodes %}
                            <div class="card hoverable">
                                <div class="card-image">
                                    <a href="{% url 'episode_detail' episode.id %}">
                                        <img src="media/{{ episode.image }}" />
                                    </a>
                                    <a href="{% url 'episode_detail' episode.id %}" class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">play_arrow</i></a>
                                </div>
                                <div class="card-content episode-title">
                                    <a href="{% url 'episode_detail' episode.id %}">{{ episode.name }}</a>
                                </div>
                            </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% else %}
            <p>No episodes to show yet!</p>
        {% endif %}
    </section>
{% endblock %}

{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="{% static 'assets/artwork/sunflower.png' %}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'styles/main.css' %}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>           
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <title>A Garden of Terrible Blooms</title>
</head>
<body>
    <header>
        <nav>
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <img src="{% static 'assets/artwork/sunflower.png' %}" alt="sunflower" class="sunflower" />
                    <a href="{% url 'home' %}" id="title">A Garden of Terrible Blooms</a>
                    <img src="{% static 'assets/artwork/sunflower.png' %}" alt="sunflower" class="sunflower" />
                </div>
                <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
                <ul class="right hide-on-med-and-down">
                    <li class="navlink default"><a href="{% url 'home' %}">Tales</a></li>
                    <li class="navlink"><a href="{% url 'performers' %}">Performers</a></li>
                    <li class="navlink"><a href="{% url 'about' %}">About</a></li>
                </ul>
                <ul class="side-nav" id="mobile-demo">
                    <li><a href="{% url 'home' %}">Tales</a></li>
                    <li><a href="{% url 'performers' %}">Performers</a></li>
                    <li><a href="{% url 'about' %}">About</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        {% block content %}
        {% endblock %}
    </main>

    <footer class="page-footer">
        <div class="footer-copyright">
            <div class="container">
                &copy; <span id='year'></span> Sharon Yablon
                <a class="grey-text text-lighten-4 right" href="{% url 'admin:index' %}">Admin</a>
            </div>
        </div>
    </footer>

    {% comment %} Current year {% endcomment %}
    <script type="text/javascript">
        $("#year").text(new Date().getFullYear());
    </script>

    {% comment %} Hamburger Menu {% endcomment %}
    <script>
        $(".button-collapse").sideNav();
    </script>

    {% comment %} Active Class Toggle for Navbar {% endcomment %}
    <script type="text/javascript">
        const currentPage = $(location).attr('pathname').replace(/^\/|\/$/g, '');
        
        $('.navlink').each(function(){
            const linkText = $(this).text().toLowerCase().replace(/\s+/g, '');
            
            if(currentPage === '') {
                $('li').removeClass('active');
                return $('li.default').addClass('active');
            }

            if(linkText.includes(currentPage)) {
                return $(this).addClass('active');
            }
        });
    </script>

    {% comment %} Toggle Stitcher Icon {% endcomment %}
    <script>
        $('#stitcher-podcast-logo').hover(
            function() {
                $('#stitcher-podcast-logo').html('<img src="{% static 'assets/icons/stitcher_icon_white.svg' %}" alt="stitcher icon" />');
            },
            function() {
                $('#stitcher-podcast-logo').html('<img src="{% static 'assets/icons/stitcher_icon.svg' %}" alt="stitcher icon" />');
            }
        );
    </script>
</body>
</html>

